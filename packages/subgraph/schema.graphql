type Owner @entity {
  "Owner's Ethereum address as a hex-string"
  id: ID!

  currentTrove: Trove
  troveCount: Int!

  troves: [Trove!]! @derivedFrom(field: "owner")
}

type Trove @entity {
  "Owner's ID + '-' + an incremented integer"
  id: ID!

  owner: Owner!

  collateral: BigDecimal!
  debt: BigDecimal!
  stake: BigDecimal!

  "The value of total redistributed per-stake collateral the last time rewards were applied"
  snapshotOfTotalRedistributedCollateral: BigDecimal!

  "The value of total redistributed per-stake debt the last time rewards were applied"
  snapshotOfTotalRedistributedDebt: BigDecimal!
}
